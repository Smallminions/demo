package com.mobile.servlet.seat;import com.mobile.model.Seat;import com.mobile.util.DaoFactory;import javax.servlet.ServletException;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;@WebServlet(name = "UpdateSeatServlet", urlPatterns = {"/UpdateSeatServlet"})public class UpdateSeatServlet extends HttpServlet {    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {        dosomething(request,response);    }    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {        dosomething(request,response);    }    protected void dosomething(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {        request.setCharacterEncoding("UTF-8");        response.setCharacterEncoding("UTF-8");        String ssid = request.getParameter("ssid");        if(ssid!=null){ //查找坐席信息            Seat seat =DaoFactory.getSeatDao().getSeat(ssid);            request.setAttribute("seat",seat);            request.getRequestDispatcher("/seatupdate.jsp").forward(request,response);        }else{ //更新坐席信息            String sid = request.getParameter("sid");            String eid = request.getParameter("eid");            String sarea = request.getParameter("area");            String sstatus = request.getParameter("sstatus");            String isusing = request.getParameter("isusing");            String isleave = request.getParameter("isleave");            String sstart = request.getParameter("ssstart");            String send = request.getParameter("send");            String sremark = request.getParameter("sremark");            Seat seat = DaoFactory.getSeatDao().getSeat(sid);            seat.setEid(eid);            seat.setSarea(sarea);            seat.setSstatus(sstatus.equals("是")?true:false);            seat.setIsusing(isusing.equals("是")?true:false);            System.out.println(seat.getSstatus()+"22222"+seat.getIsusing());            seat.setIsleave(isleave);            seat.setSstart(sstart);            seat.setSend(send);            seat.setSremark(sremark);            if(DaoFactory.getSeatDao().updateSeat(seat)){                request.getRequestDispatcher("/seat.jsp").forward(request,response);            }else{                request.setAttribute("point", "对不起,坐席信息更新失败！！！");                request.getRequestDispatcher("/point.jsp").forward(request, response);            }        }    }}