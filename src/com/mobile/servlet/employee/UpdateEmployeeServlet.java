package com.mobile.servlet.employee;import com.mobile.model.Employee;import com.mobile.util.DaoFactory;import javax.servlet.ServletException;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;@WebServlet(name = "UpdateEmployeeServlet", urlPatterns = {"/UpdateEmployeeServlet"})public class UpdateEmployeeServlet extends HttpServlet {    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {        dosomething(request,response);    }    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {        dosomething(request,response);    }    protected void dosomething(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {        request.setCharacterEncoding("UTF-8");        response.setCharacterEncoding("UTF-8");        String seid = request.getParameter("seid");        if(seid!=null) { //查找一个人的信息并显示在修改界面            Employee employee = DaoFactory.getEmployeeDao().getEmployee(seid);            request.setAttribute("employee", employee);            request.getRequestDispatcher("/employeeupdate.jsp").forward(request, response);        }else{            String eid = request.getParameter("aid");            Employee employee = DaoFactory.getEmployeeDao().getEmployee(eid);            employee.setEname(request.getParameter("ename"));            employee.setEsex(request.getParameter("esex"));            employee.setEdept(request.getParameter("edept"));            employee.setEduty(request.getParameter("eduty"));            employee.setEnum(request.getParameter("enum"));            employee.setEemail(request.getParameter("eemail"));            employee.setEtel(request.getParameter("etel"));            employee.setEip(request.getParameter("eip"));            employee.setEauthority(request.getParameter("eauthority"));            if(DaoFactory.getEmployeeDao().updateEmployee(employee)){ //更新成功                request.getRequestDispatcher("DisplayEmployeeServlet").forward(request, response);            }else{                request.setAttribute("point", "对不起,员工信息更新失败！！！");                request.getRequestDispatcher("/point.jsp").forward(request, response);            }        }    }}